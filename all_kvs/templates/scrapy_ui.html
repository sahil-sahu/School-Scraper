<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scraper</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
<style>
    .nav-wrapper {
  background-color: #051a36 !important;
}
.brand-logo img{
  height: 120px;
  margin: 15px 60px;
}
.form-srch{margin: auto 0px auto 30px;display:block;float: right;}
.input-field{
  margin: 50px 0px auto 10px;
  display: block;
  max-height: 4em;
  width: 50vh;
  }
  .dropdown-trigger{
    width: 40%;
    margin: 10px auto;
  }
  .dropdown-content{max-height:50em;}
</style>
      <nav>
    <div class="nav-wrapper" style="height: 150px;">
      <a href="#!" class="brand-logo"><img  src="https://upload.wikimedia.org/wikipedia/commons/4/47/Kendriya_Vidyalaya_logo.png" alt=""></a>
      <a href="#" data-target="mobile-demo" class="sidenav-trigger"><i class="material-icons">menu</i></a>
         <form class="form-srch" action="?sch=" method="GET">
                <div class="input-field">
                  <input onkeyup="searcher('0')" id="search0" type="search">
                  <label class="label-icon" for="search"><i class="material-icons" style="transform: scale(2);margin: auto;">search</i></label>
                  <i class="material-icons">close</i>
                </div>
                <a class='dropdown-trigger btn' href='#' data-target='dropdown1'>Regions</a>

  <!-- Dropdown Structure -->
                <ul id='dropdown1' class='dropdown-content'>
                  
                </ul>
            </form>
    </div>
  </nav>
  <ul class="sidenav" id="mobile-demo">
   
    <li><a href="sass.html">Sass</a></li>
    <li><a href="badges.html">Components</a></li>
    <li><a href="collapsible.html">Javascript</a></li>
    <li> <form>
        <div class="input-field">
          <input onkeyup="searcher('1')" id="search1" type="text">
          <label class="label-icon" for="search"><i class="material-icons">search</i></label>
          <i class="material-icons">close</i>
        </div>
        </form>
    </li>
  </ul>
<br>
<br>
<br>
<br>
<br>
  <div class="row">
    <div class="col s3">1</div>
    <ul class="collapsible col s6 container">
    {% for i in data %}
        <li id="{{i.region}}">
            <div class="collapsible-header">
                    <span><strong>{{i.sch_nm}}</strong></span>
                <a style="float: right;" href="/web/{{i.source}}" title="{{i.link}}" target="_blank"><i class="material-icons">open_in_new</i></a>
            </div>
        </li>

    {% endfor %}

</ul>
<div class="col s3">2</div>
</div>       
</body>
<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script>
  $(document).ready(function(){
    $('.collapsible').collapsible();
  });
  $('.dropdown-trigger').dropdown();
  var regions = ['KVS Head Quarter', 'Agra', 'Ahmedabad', 'Bangalore', 'Bhopal', 'Bhubaneshwar', 'Bhubaneswar', 'Chandigarh', 'Chennai', 'Dehradun', 'Delhi', 'Ernakulam', 'Gurgaon', 'Guwahati', 'Hyderabad', 'Jabalpur', 'Jaipur', 'Jammu', 'Kolkata', 'Lucknow', 'Mumbai', 'Patna', 'Raipur', 'Ranchi', 'Silchar', 'Tinsukia', 'Varanasi', 'ZIET Bhubaneshwar', 'ZIET Chandigarh', 'ZIET Gwalior', 'ZIET Mumbai', 'ZIET Mysore'];
  regions.forEach(ele => {
    let item = `<li><a onclick="filter('`+ele.replace(/ /g,"_")+`')">`+ele+`</a></li>`
    $(".dropdown-content").append(item);
  });
  var li_data = document.querySelectorAll(".collapsible > *")
  function filter(para){
    let regions = li_data
    regions.forEach(ele => {
      if (para == ele.id.toString()) {
        ele.style.display = "";
      } else {
        ele.style.display = "none";
      }
    });
  }
  function searcher(num) {
    nm_all = li_data;
    let para = $("#search"+num).val();
    // nm_all.forEach(ele => {
    //   if (para in ele.querySelectorAll("strong").textContent) {
    //     ele.style.display = "";
    //   } else {
    //     ele.style.display = "none";
    //   }
    // });
}
$("form").submit(function () {
  event.preventDefault();
})
</script>
</html>